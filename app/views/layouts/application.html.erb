<!DOCTYPE html>
<html>
  <head>
    <title>D-Map</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <!-- App root element -->
    <div id="app">

      <!-- Your main view, should have "view-main" class -->
      <div class="view view-main">
        <!-- Initial Page, "data-name" contains page name -->
        <div data-name="home" class="page">

          <!-- Top Navbar -->
          <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner">
              <div class="title">D-Map</div>
            </div>
          </div>

          <!-- Scrollable page content -->
          <div class="page-content">
            <div class="page">
              <div class="navbar">
                <div class="navbar-bg"></div>
                <div class="navbar-inner sliding">
                  <div class="left">
                    <a class="link back">
                      <i class="icon icon-back"></i>
                      <span class="if-not-md">Back</span>
                    </a>
                  </div>
                  <div class="title">Tabbar With Labels</div>
                  <div class="right">
                    <a class="link" @click=${togglePosition}>
                      <i class="md-only icon material-icons rotate-icon">compare_arrows</i>
                      <i class="if-not-md icon f7-icons">arrow_up_arrow_down_circle_fill</i>
                    </a>
                  </div>
                </div>
              </div>
              <div class="toolbar tabbar-labels toolbar-bottom">
                <div class="toolbar-inner">
                  <a href="#tab-1" class="tab-link tab-link-active">
                    <i class="icon f7-icons if-not-md">envelope_fill</i>
                    <i class="icon material-icons md-only">email</i>
                    <span class="tabbar-label">Inbox</span>
                  </a>
                  <a href="#tab-2" class="tab-link">
                    <i class="icon f7-icons if-not-md">today_fill<span class="badge color-red">5</span></i>
                    <i class="icon material-icons md-only">today<span class="badge color-red">5</span></i>
                    <span class="tabbar-label">Calendar</span>
                  </a>
                  <a href="#tab-3" class="tab-link">
                    <i class="icon f7-icons if-not-md">cloud_upload_fill</i>
                    <i class="icon material-icons md-only">file_upload</i>
                    <span class="tabbar-label">Upload</span>
                  </a>
                </div>
              </div>
              <div class="tabs">
                <div class="page-content tab tab-active" id="tab-1">
                  <div class="block">
                    <p><b>Tab 1 content</b></p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quos asperiores ut, odio numquam ab, qui,
                      alias adipisci in magni reiciendis reprehenderit. Labore esse quae ut tempore consequatur, reprehenderit
                      similique!</p>
                    <p>Quis omnis, quam maiores voluptates vero atque porro? Soluta modi dolore eum dolor iste eos perspiciatis
                      vero porro aliquam officia deleniti, cumque rem, consequatur, ea ipsa temporibus dicta architecto saepe.</p>
                    <p>Tempora eius, sit distinctio architecto repellat, rerum quae, eum suscipit aperiam libero beatae ut eveniet
                      ex labore illo! Labore illo harum voluptatum nulla ullam natus beatae iste tempora ut fugiat!</p>
                    <p>Veritatis vero quis ipsum explicabo beatae consequatur, deleniti, tenetur assumenda sit quisquam soluta,
                      possimus magnam nostrum animi hic sapiente sed laudantium similique quas labore, voluptatem eius aliquam.
                      Sunt, ad aliquam!</p>
                    <p>Animi iste, optio mollitia, sint hic neque sed, quis labore deserunt esse delectus fugit impedit qui
                      consequatur reiciendis quam. Totam tenetur, mollitia. Porro optio similique perspiciatis aliquam ipsam vel
                      reprehenderit!</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quos asperiores ut, odio numquam ab, qui,
                      alias adipisci in magni reiciendis reprehenderit. Labore esse quae ut tempore consequatur, reprehenderit
                      similique!</p>
                    <p>Quis omnis, quam maiores voluptates vero atque porro? Soluta modi dolore eum dolor iste eos perspiciatis
                      vero porro aliquam officia deleniti, cumque rem, consequatur, ea ipsa temporibus dicta architecto saepe.</p>
                    <p>Tempora eius, sit distinctio architecto repellat, rerum quae, eum suscipit aperiam libero beatae ut eveniet
                      ex labore illo! Labore illo harum voluptatum nulla ullam natus beatae iste tempora ut fugiat!</p>
                    <p>Veritatis vero quis ipsum explicabo beatae consequatur, deleniti, tenetur assumenda sit quisquam soluta,
                      possimus magnam nostrum animi hic sapiente sed laudantium similique quas labore, voluptatem eius aliquam.
                      Sunt, ad aliquam!</p>
                    <p>Animi iste, optio mollitia, sint hic neque sed, quis labore deserunt esse delectus fugit impedit qui
                      consequatur reiciendis quam. Totam tenetur, mollitia. Porro optio similique perspiciatis aliquam ipsam vel
                      reprehenderit!</p>
                  </div>
                </div>
                <div class="page-content tab" id="tab-2">
                  <div class="block">
                    <p><b>Tab 2 content</b></p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quos asperiores ut, odio numquam ab, qui,
                      alias adipisci in magni reiciendis reprehenderit. Labore esse quae ut tempore consequatur, reprehenderit
                      similique!</p>
                    <p>Quis omnis, quam maiores voluptates vero atque porro? Soluta modi dolore eum dolor iste eos perspiciatis
                      vero porro aliquam officia deleniti, cumque rem, consequatur, ea ipsa temporibus dicta architecto saepe.</p>
                    <p>Tempora eius, sit distinctio architecto repellat, rerum quae, eum suscipit aperiam libero beatae ut eveniet
                      ex labore illo! Labore illo harum voluptatum nulla ullam natus beatae iste tempora ut fugiat!</p>
                    <p>Veritatis vero quis ipsum explicabo beatae consequatur, deleniti, tenetur assumenda sit quisquam soluta,
                      possimus magnam nostrum animi hic sapiente sed laudantium similique quas labore, voluptatem eius aliquam.
                      Sunt, ad aliquam!</p>
                    <p>Animi iste, optio mollitia, sint hic neque sed, quis labore deserunt esse delectus fugit impedit qui
                      consequatur reiciendis quam. Totam tenetur, mollitia. Porro optio similique perspiciatis aliquam ipsam vel
                      reprehenderit!</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quos asperiores ut, odio numquam ab, qui,
                      alias adipisci in magni reiciendis reprehenderit. Labore esse quae ut tempore consequatur, reprehenderit
                      similique!</p>
                    <p>Quis omnis, quam maiores voluptates vero atque porro? Soluta modi dolore eum dolor iste eos perspiciatis
                      vero porro aliquam officia deleniti, cumque rem, consequatur, ea ipsa temporibus dicta architecto saepe.</p>
                    <p>Tempora eius, sit distinctio architecto repellat, rerum quae, eum suscipit aperiam libero beatae ut eveniet
                      ex labore illo! Labore illo harum voluptatum nulla ullam natus beatae iste tempora ut fugiat!</p>
                    <p>Veritatis vero quis ipsum explicabo beatae consequatur, deleniti, tenetur assumenda sit quisquam soluta,
                      possimus magnam nostrum animi hic sapiente sed laudantium similique quas labore, voluptatem eius aliquam.
                      Sunt, ad aliquam!</p>
                    <p>Animi iste, optio mollitia, sint hic neque sed, quis labore deserunt esse delectus fugit impedit qui
                      consequatur reiciendis quam. Totam tenetur, mollitia. Porro optio similique perspiciatis aliquam ipsam vel
                      reprehenderit!</p>
                  </div>
                </div>
                <div class="page-content tab" id="tab-3">
                  <div class="block">
                    <p><b>Tab 3 content</b></p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quos asperiores ut, odio numquam ab, qui,
                      alias adipisci in magni reiciendis reprehenderit. Labore esse quae ut tempore consequatur, reprehenderit
                      similique!</p>
                    <p>Quis omnis, quam maiores voluptates vero atque porro? Soluta modi dolore eum dolor iste eos perspiciatis
                      vero porro aliquam officia deleniti, cumque rem, consequatur, ea ipsa temporibus dicta architecto saepe.</p>
                    <p>Tempora eius, sit distinctio architecto repellat, rerum quae, eum suscipit aperiam libero beatae ut eveniet
                      ex labore illo! Labore illo harum voluptatum nulla ullam natus beatae iste tempora ut fugiat!</p>
                    <p>Veritatis vero quis ipsum explicabo beatae consequatur, deleniti, tenetur assumenda sit quisquam soluta,
                      possimus magnam nostrum animi hic sapiente sed laudantium similique quas labore, voluptatem eius aliquam.
                      Sunt, ad aliquam!</p>
                    <p>Animi iste, optio mollitia, sint hic neque sed, quis labore deserunt esse delectus fugit impedit qui
                      consequatur reiciendis quam. Totam tenetur, mollitia. Porro optio similique perspiciatis aliquam ipsam vel
                      reprehenderit!</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quos asperiores ut, odio numquam ab, qui,
                      alias adipisci in magni reiciendis reprehenderit. Labore esse quae ut tempore consequatur, reprehenderit
                      similique!</p>
                    <p>Quis omnis, quam maiores voluptates vero atque porro? Soluta modi dolore eum dolor iste eos perspiciatis
                      vero porro aliquam officia deleniti, cumque rem, consequatur, ea ipsa temporibus dicta architecto saepe.</p>
                    <p>Tempora eius, sit distinctio architecto repellat, rerum quae, eum suscipit aperiam libero beatae ut eveniet
                      ex labore illo! Labore illo harum voluptatum nulla ullam natus beatae iste tempora ut fugiat!</p>
                    <p>Veritatis vero quis ipsum explicabo beatae consequatur, deleniti, tenetur assumenda sit quisquam soluta,
                      possimus magnam nostrum animi hic sapiente sed laudantium similique quas labore, voluptatem eius aliquam.
                      Sunt, ad aliquam!</p>
                    <p>Animi iste, optio mollitia, sint hic neque sed, quis labore deserunt esse delectus fugit impedit qui
                      consequatur reiciendis quam. Totam tenetur, mollitia. Porro optio similique perspiciatis aliquam ipsam vel
                      reprehenderit!</p>
                  </div>
                </div>
              </div>
            </div>

            <%= yield %>
            <!-- Link to another page -->
            <a href="/about/">About app</a>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      var app = new Framework7({
        // App root element
        el: '#app',
        // App Name
        name: 'D-Map',
        // App id
        id: 'com.myapp.test',
        // Enable swipe panel
        panel: {
          swipe: true,
        },
        // Add default routes
        routes: <%= rails_info_routes_url.to_json.html_safe %>,
        // ... other parameters
      });
    </script>
    <style>
      .rotate-icon {
        transform: rotate(90deg);
      }
    </style>
    <script type="module">
      export default (props, { $, $on }) => {
        let $toolbarEl;

        const togglePosition = () => {
          $toolbarEl.toggleClass('toolbar-bottom toolbar-top');
        }

        $on('pageInit', (e, page) => {
          $toolbarEl = page.$el.find('.toolbar');
        });

        return $render;
      }

    </script>
  </body>
</html>
